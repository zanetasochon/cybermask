module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},60350,a=>{"use strict";var b=a.i(87924),c=a.i(72131);let d=({config:a,onChange:c})=>{let d=b=>{c({...a,fields:{...a.fields,[b]:!a.fields[b]}})},e=b=>{let d=b.target.value;c({...a,mode:d})};return(0,b.jsxs)("aside",{style:{padding:16,borderRadius:12,border:"1px solid #27272A",background:"rgba(15,23,42,0.9)",marginBottom:16},children:[(0,b.jsx)("h2",{style:{fontSize:18,marginBottom:8},children:"Ustawienia cenzury"}),(0,b.jsx)("p",{style:{fontSize:12,color:"#9CA3AF",marginBottom:12},children:"Wybierz, jakie typy danych mają zostać wykryte i ocenzurowane. W wersji desktopowej wykrywanie będzie realizowane przez lokalny model językowy (LLM) i OCR."}),(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:4,marginBottom:12,fontSize:13},children:[(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.firstName,onChange:()=>d("firstName")}),(0,b.jsx)("span",{children:"Imiona"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.lastName,onChange:()=>d("lastName")}),(0,b.jsx)("span",{children:"Nazwiska"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.fullName,onChange:()=>d("fullName")}),(0,b.jsx)("span",{children:"Imię i nazwisko"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.birthDate,onChange:()=>d("birthDate")}),(0,b.jsx)("span",{children:"Daty urodzenia"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.age,onChange:()=>d("age")}),(0,b.jsx)("span",{children:"Wiek"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.phoneNumber,onChange:()=>d("phoneNumber")}),(0,b.jsx)("span",{children:"Telefon"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.email,onChange:()=>d("email")}),(0,b.jsx)("span",{children:"E-mail"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.pesel,onChange:()=>d("pesel")}),(0,b.jsx)("span",{children:"PESEL"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.companyName,onChange:()=>d("companyName")}),(0,b.jsx)("span",{children:"Nazwa firmy"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.nip,onChange:()=>d("nip")}),(0,b.jsx)("span",{children:"NIP"})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.fields.address,onChange:()=>d("address")}),(0,b.jsx)("span",{children:"Adresy"})]})]}),(0,b.jsxs)("fieldset",{style:{border:"1px solid #27272A",borderRadius:10,padding:10,marginBottom:10},children:[(0,b.jsx)("legend",{style:{fontSize:12,padding:"0 4px",color:"#A1A1AA"},children:"Tryb cenzury"}),(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13,marginBottom:4},children:[(0,b.jsx)("input",{type:"radio",name:"mode",value:"mask",checked:"mask"===a.mode,onChange:e}),(0,b.jsxs)("span",{children:["Zamazanie danych"," ",(0,b.jsx)("span",{style:{color:"#6B7280"},children:"(np. █████ lub \\[imię ocenzurowane\\])"})]})]}),(0,b.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:6,fontSize:13},children:[(0,b.jsx)("input",{type:"radio",name:"mode",value:"pseudonymize",checked:"pseudonymize"===a.mode,onChange:e}),(0,b.jsxs)("span",{children:["Zamiana na inne dane"," ",(0,b.jsx)("span",{style:{color:"#6B7280"},children:"(spójna pseudonimizacja w całym dokumencie)"})]})]})]}),"mask"===a.mode&&(0,b.jsxs)("div",{style:{display:"flex",gap:8,alignItems:"center",marginBottom:8,fontSize:13},children:[(0,b.jsxs)("label",{children:["Znak maski:"," ",(0,b.jsx)("input",{type:"text",maxLength:1,value:a.maskChar,onChange:b=>c({...a,maskChar:b.target.value||"█"}),style:{width:32,marginLeft:4}})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.preserveLength,onChange:()=>c({...a,preserveLength:!a.preserveLength})}),(0,b.jsx)("span",{style:{color:"#9CA3AF"},children:"Zachowaj długość ciągu"})]})]}),(0,b.jsxs)("label",{style:{display:"flex",gap:6,alignItems:"center",fontSize:12,color:"#9CA3AF"},children:[(0,b.jsx)("input",{type:"checkbox",checked:a.consistentPseudonyms,onChange:()=>c({...a,consistentPseudonyms:!a.consistentPseudonyms})}),(0,b.jsx)("span",{children:"Ta sama osoba => ta sama zamiana w całym dokumencie"})]})]})},e=({originalText:a,result:c,isProcessing:d})=>(0,b.jsxs)("section",{style:{padding:16,borderRadius:12,border:"1px solid #27272A",background:"rgba(15,23,42,0.9)",minHeight:200},children:[(0,b.jsx)("h2",{style:{fontSize:18,marginBottom:8},children:"Podgląd ocenzurowanego dokumentu"}),(0,b.jsx)("p",{style:{fontSize:12,color:"#9CA3AF",marginBottom:8},children:"Po uruchomieniu cenzury zobaczysz tutaj porównanie treści przed i po przetworzeniu. W docelowej wersji desktopowej zamiast surowego tekstu będziesz widzieć podgląd PDF/DOCX z naniesionymi maskami."}),d&&(0,b.jsx)("p",{style:{fontSize:13,color:"#38BDF8",marginBottom:8},children:"Przetwarzanie dokumentu, analiza wzorców i nakładanie cenzury..."}),!c&&!a&&!d&&(0,b.jsx)("p",{style:{fontSize:13,color:"#6B7280"},children:"Wgraj dokument lub wklej treść, a następnie uruchom cenzurowanie, aby zobaczyć efekt."}),c&&(0,b.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, minmax(0, 1fr))",gap:8,marginTop:8,fontSize:12},children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{marginBottom:4,color:"#9CA3AF"},children:"Oryginał"}),(0,b.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",borderRadius:8,border:"1px solid #1F2933",background:"#020617",padding:8,maxHeight:260,overflow:"auto"},children:a})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)("div",{style:{marginBottom:4,color:"#9CA3AF"},children:"Po cenzurze"}),(0,b.jsx)("pre",{style:{whiteSpace:"pre-wrap",wordBreak:"break-word",borderRadius:8,border:"1px solid #1F2933",background:"#020617",padding:8,maxHeight:260,overflow:"auto"},children:c.redactedText})]})]})]});async function f(a){let{fileName:b,originalText:c,config:d}=a,e=function(a,b){let c=[],d=(b,d,e)=>{let f;if(e)for(;null!==(f=b.exec(a));)c.push({value:f[0],start:f.index,end:f.index+f[0].length,type:d})};if(d(/\b\d{11}\b/g,"pesel",b.fields.pesel),d(/\b\d{10}\b/g,"nip",b.fields.nip),d(/\b(?:\+?\d{1,3}[- ]?)?(?:\d{3}[- ]?\d{3}[- ]?\d{3})\b/g,"phoneNumber",b.fields.phoneNumber),d(/[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/g,"email",b.fields.email),d(/\b\d{1,3}\s*(?:lat|l\.)\b/gi,"age",b.fields.age),d(/\b\d{4}-\d{2}-\d{2}\b/g,"birthDate",b.fields.birthDate),b.fields.fullName||b.fields.firstName||b.fields.lastName){let d,e=/\b[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+(?:\s+[A-ZĄĆĘŁŃÓŚŹŻ][a-ząćęłńóśźż]+)+\b/g;for(;null!==(d=e.exec(a));){let a=d[0],e=a.split(/\s+/);if(b.fields.fullName)c.push({value:a,start:d.index,end:d.index+a.length,type:"fullName"});else if(b.fields.firstName&&c.push({value:e[0],start:d.index,end:d.index+e[0].length,type:"firstName"}),b.fields.lastName&&e.length>1){let b=e[e.length-1],f=d.index+a.length-b.length;c.push({value:b,start:f,end:f+b.length,type:"lastName"})}}}for(let a of b.fields.customPatterns||[])try{let b=RegExp(a,"g");d(b,"custom",!0)}catch{}return c.sort((a,b)=>a.start-b.start),c}(c,d),{redactedText:f,mapping:g}=function(a,b,c){if(0===b.length)return{redactedText:a,mapping:{}};let d=new Map,e=a=>c.preserveLength?c.maskChar.repeat(a.length):`[${a[0]?a[0]:""}… ocenzurowane]`,f=(a,b)=>{let e=c.consistentPseudonyms?`${b}:${a}`:a,f=d.get(e);if(f)return f;let g="fullName"===b||"firstName"===b||"lastName"===b?"Osoba":"companyName"===b?"Firma":"pesel"===b?"ID":"nip"===b?"NIP":"phoneNumber"===b?"Telefon":"email"===b?"Email":"Dane",h=`${g}_${d.size+1}`;return d.set(e,h),h},g="",h=0;for(let d of b){if(d.start<h)continue;g+=a.slice(h,d.start);let b=d.value;g+="mask"===c.mode?e(b):f(b,d.type),h=d.end}g+=a.slice(h);let i={};for(let[a,b]of d.entries())i[a]=b;return{redactedText:g,mapping:i}}(c,e,d);return{baseFileName:b.replace(/\.[^.]+$/,""),originalText:c,redactedText:f,entities:e,mapping:g}}async function g(a){return f(a)}function h(){let[a,f]=(0,c.useState)(null),[h,i]=(0,c.useState)(""),[j,k]=(0,c.useState)({fields:{firstName:!0,lastName:!0,fullName:!0,birthDate:!0,age:!1,phoneNumber:!0,email:!0,pesel:!0,companyName:!0,nip:!0,address:!1,customPatterns:[]},mode:"mask",maskChar:"█",preserveLength:!0,consistentPseudonyms:!0}),[l,m]=(0,c.useState)(!1),[n,o]=(0,c.useState)(null),[p,q]=(0,c.useState)(null),r=async a=>{let b=a.target.files?.[0];b&&(f(b),o(null),q(null),"text/plain"===b.type?i(await b.text()):i("Wersja demonstracyjna: pełna obsługa PDF/DOC/DOCX z OCR będzie realizowana w warstwie desktopowej / backendowej.\nAktualnie możesz przetestować silnik cenzury na pliku .txt."))},s=async()=>{if(!h)return void q("Najpierw wgraj dokument lub wprowadź tekst.");m(!0),q(null);try{let b=await g({fileName:a?.name??"wklejony_tekst.txt",mimeType:a?.type??"text/plain",originalText:h,config:j});o(b)}catch(a){console.error(a),q("Wystąpił błąd podczas przetwarzania dokumentu.")}finally{m(!1)}};return(0,b.jsx)("main",{style:{minHeight:"100vh",display:"flex",flexDirection:"column",alignItems:"center",padding:"32px 16px",boxSizing:"border-box"},children:(0,b.jsxs)("section",{style:{maxWidth:1200,width:"100%",display:"grid",gridTemplateColumns:"minmax(0, 1.1fr) minmax(0, 0.9fr)",gap:24},children:[(0,b.jsxs)("div",{children:[(0,b.jsxs)("h1",{style:{fontSize:32,marginBottom:16},children:["CyberMask –"," ",(0,b.jsx)("span",{style:{color:"#22d3ee"},children:"dokumenty mówią mniej, niż wiedzą"})]}),(0,b.jsx)("p",{style:{marginBottom:24,maxWidth:640,color:"#A1A1AA"},children:"Wgraj dokument, wybierz jakie dane mają zniknąć (imiona, nazwiska, PESEL, NIP, numery telefonów itd.), a CyberMask zadba o spójną cenzurę i przygotuje materiał do bezpiecznego udostępnienia – zachowując prawdę, ale nie zdradzając człowieka."}),(0,b.jsxs)("div",{style:{marginBottom:16,padding:16,borderRadius:12,border:"1px solid #27272A",background:"rgba(15,23,42,0.85)"},children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:8,fontSize:14,color:"#E4E4E7"},children:"Wgraj dokument (.txt, docx, pdf)"}),(0,b.jsx)("input",{type:"file",accept:".txt,.pdf,.doc,.docx",onChange:r}),(0,b.jsx)("p",{style:{marginTop:8,fontSize:12,color:"#71717A"},children:"Wersja webowa służy jako prototyp silnika cenzury. W trybie desktopowym dokumenty pozostają lokalnie, a OCR i LLM działają offline."})]}),(0,b.jsxs)("div",{style:{marginBottom:16},children:[(0,b.jsx)("label",{style:{display:"block",marginBottom:8,fontSize:14,color:"#E4E4E7"},children:"Podgląd surowego tekstu"}),(0,b.jsx)("textarea",{value:h,onChange:a=>i(a.target.value),placeholder:"Możesz też wkleić tutaj treść dokumentu...",style:{width:"100%",minHeight:200,borderRadius:12,border:"1px solid #27272A",background:"#020617",color:"#F4F4F5",padding:12,fontFamily:"ui-monospace, SFMono-Regular, Menlo, Monaco",fontSize:13,resize:"vertical"}})]}),(0,b.jsx)("button",{type:"button",onClick:s,disabled:l,style:{padding:"10px 20px",borderRadius:999,border:"none",background:"linear-gradient(135deg, #22c55e 0%, #22d3ee 45%, #4f46e5 100%)",color:"#020617",fontWeight:600,cursor:l?"wait":"pointer",opacity:l?.7:1},children:l?"Cenzurowanie...":"Ocenzuruj dokument"}),p&&(0,b.jsx)("p",{style:{marginTop:12,color:"#f97373",fontSize:14},children:p}),n&&(0,b.jsx)("button",{type:"button",onClick:()=>{if(!n)return;let a=new Blob([n.redactedText],{type:"text/plain;charset=utf-8"}),b=URL.createObjectURL(a),c=document.createElement("a");c.href=b,c.download=`${n.baseFileName}_ocenzurowany.txt`,c.click(),URL.revokeObjectURL(b)},style:{marginTop:16,padding:"8px 18px",borderRadius:999,border:"1px solid #4b5563",background:"transparent",color:"#E5E7EB",fontSize:14,cursor:"pointer"},children:"Pobierz ocenzurowany plik (.txt)"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(d,{config:j,onChange:k}),(0,b.jsx)(e,{originalText:h,result:n,isProcessing:l})]})]})})}a.s(["default",()=>h],60350)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__5b8bc4d3._.js.map